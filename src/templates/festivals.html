{% extends "ralaot.html" %}
{% block content %}
{% set  glob_val_for_sale_ticket = False %}

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
	<meta name="generator" content="Jekyll v4.1.1">


	<link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/album/">

	<!-- Bootstrap core CSS -->


	<style>
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}

		@media (min-width: 768px) {
			.bd-placeholder-img-lg {
				font-size: 3.5rem;
			}
		}
	</style>

</head>

<body>
	<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
		<div class="carousel-inner">
			{% for fest in fests %}
			{% if fest.description != None %}
			<div class="carousel-item {% if loop.index == 1 %} active {% endif %}" id="slide{{ loop.index }}">
				<img class="d-block" src="{{fest.fest_logo}}">

				<div class="container12">
					<img src="{{fest.fest_logo}}" alt="Norway" style="width:100%;">
					<div class="text-block12">
						<h4>{{ fest.description}}</h4>
						<p>{{ fest.address}}</p>
					</div>
				</div>
			</div>
			{% endif %}
			{% endfor %}
		</div>
		<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>



	<!-- Filter bar  -->
	<div class="filter_bar">
		<div class="dropdown_for_filter">
			<button onclick="myFunction('1')" class="dropbtn_for_filter">Style <i class="arrow down"></i></button>
			<div id="1" class="dropdown-content_for_filter">


				<a href="#">Rok</a>
				<a href="#">Hip-Hop</a>
				<a href="#">Indi</a>

				<a style="font-size: 18px; border-top: 3px solid red; width: 100%;" href="#">Delete all filters
					&#10005;</a>
			</div>

		</div>


		<div class="dropdown_for_filter">
			<button onclick="myFunction('2')" class="dropbtn_for_filter">Price <i class="arrow down"></i></button>
			<div id="2" class="dropdown-content_for_filter">


				<div class="containera">

					<input type="range" min="0" max="6" value="0" id="slider">
					<p class="ticket_price">Maxiumum ticket price is </p>
					<div class="values">
						<div class="wrapper" id="wrapper">
							<span>100</span>
							<span>500</span>
							<span>1000</span>
							<span>2000</span>
							<span>3000</span>
							<span>4000</span>
							<span>5000</span>
						</div>
					</div>
				</div>


			</div>


			<div class="dropdown_for_filter">
				<button onclick="myFunction('3')" class="dropbtn_for_filter">Date <i class="arrow down"></i></button>
				<div id="3" class="dropdown-content_for_filter">



					<label for="start">Starting: $slider.value </label>

					<input type="date" id="start" name="fest-start" value="2020-10-21" min="2020-01-01"
						max="2020-12-31">


					<label for="start">Finishing:</label>

					<input type="date" id="finish" name="fest-finish" value="2018-07-23" min="2020-01-01"
						max="2020-12-31">




				</div>
			</div>
			<input class="check_box_for_sales_box" type="checkbox" id="sales" name="sales" onclick="CheckBoxFunc()">
			<label class=" check_box_for_sales" id="text" for="scales">{{ glob_val_for_sale_ticket }}</label>
			<!-- <p id="text" style="display:none">{{ glob_val_for_sale_ticket }}</p> -->
		</div>
	</div>

	<!-- End of filter bar -->

	<script>
		function CheckBoxFunc() {
			var checkBox = document.getElementById("sales");

			var text = document.getElementById("text");
			if (checkBox.checked == true) {
				{ { glob_val_for_sale_ticket = True } }

			}
			else {
				{ { glob_val_for_sale_ticket = False } }
			}
		}
	</script>





	<main role="main">




		<div class="container">

			<div class="row">
				{% for fest in fests %}
				{% if fest.description != None %}
				<div class="col-md-4">
					<div class="card mb-4 shadow-sm">
						<a href="festival\/{{ fest.fest_id }}">
							<svg class="bd-placeholder-img card-img-top" width="100%" height="350"
								xmlns="festival\/{{ fest.fest_id }}" preserveAspectRatio="xMidYMid slice"
								focusable="false" role="img" aria-label="Placeholder: Thumbnail">

								<image height="100%" class="firstpic" href="{{fest.fest_logo}}"
									clip-path="url(#myCircle)"></image>
								{% if fest.sale != 0 %}
								<image class="secondpic"
									href="https://festival-static.s3-eu-west-1.amazonaws.com/salecroped.png">

								</image>
								{% elif fest.max_capacity - fest.current_ticket_count != 0 %}
								{
								<image class="thirdpic"
									href="https://festival-static.s3-eu-west-1.amazonaws.com/sold-out-png-19949.png">

								</image>
								}
								{% else %}
								{% endif %}
							</svg>
						</a>
						<div class="card-body bg-dark text-danger w-100 p-3 " style="max-height: 500%;">
							<p class="card-text"> FESTIVAL NAME: {{ fest.fest_name}}</p>
							<p class="card-text"> FROM: {{ fest.time_from}} TO : {{fest.time_to}}</p>
							<p class="card-text">{{ fest.address}}</p>
							{% set new_var  = fest.cost * fest.sale / 100 %}

							{% if fest.sale == 0 %}
							<p class="card-text">{{ fest.cost}}.0 $</p>
							{%else%}

							<p class="card-text"> <del>{{ fest.cost }}.0 $</del> <ins>{{ new_var }}$</ins> </p>
							{% endif %}
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<a href="festival\/{{ fest.fest_id }}"> <button type="button"
											class="btn btn-sm btn-outline-secondary">View</button></a>
								</div>
								<small class="text-muted">TIME festED</small>
							</div>
						</div>
					</div>



				</div>
				{% endif %}
				{% endfor %}
			</div>
		</div>

	</main>


	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script>



	<style>
		body {
			background-image: url('https://festival-static.s3-eu-west-1.amazonaws.com/blackbg.jpg');
			background-repeat: no-repeat;
			background-attachment: fixed;
			background-size: cover;
		}
	</style>
</body>
<script>

	/* When the user clicks on the button,
	toggle between hiding and showing the dropdown content */
	function myFunction(a) {

		document.getElementById(a).classList.toggle("show_for_filter");
	}

	// Close the dropdown menu if the user clicks outside of it
	// window.onclick = function (event) {
	// 	if (!event.target.matches('.dropbtn_for_filter')) {
	// 		var dropdowns = document.getElementsByClassName("dropdown-content_for_filter");
	// 		var i;
	// 		for (i = 0; i < dropdowns.length; i++) {
	// 			var openDropdown = dropdowns[i];
	// 			if (openDropdown.classList.contains('show_for_filter')) {
	// 				openDropdown.classList.remove('show_for_filter');
	// 			}
	// 		}
	// 	}
	// } 
</script>

<script type="text/javascript">
	$('input').popup(); 
</script>
<script>
	var slider = document.getElementById("slider");
	var values = document.getElementById("wrapper");
	slider.oninput = function () {
		values.style.bottom = slider.value * 40 + "px";
		var lal = slider.value * 40 + "px";
	}
</script>
{% endblock content %}